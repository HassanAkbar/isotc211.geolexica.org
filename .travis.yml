language: ruby
sudo: required
cache: bundler
rvm:
  - 2.5.1
before_install:
  - travis_retry sudo apt-get update
  - travis_retry sudo apt-get install -y curl git make ruby-bundler ruby-dev libxml2-dev libxslt-dev npm
  - travis_retry gem install bundler
  - travis_retry gem install nokogiri -v '1.8.5'
before_script:
  - bundle
install:
  - pip install --user awscli
env:
  global:
    - COMMIT_AUTHOR_EMAIL="open.source@ribose.com"
    - ENCRYPTION_LABEL=TODO
script:
  - make _site publish deploy
